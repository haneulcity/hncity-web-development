---
layout: post
title: "2021년 3월 14일 점검 예정 안내드립니다."
category: ['news', 'server']
---
안녕하세요, 하늘마을 프로젝트 관리자 종이상자입니다.

이번주 일요일인 3월 14일 변경 예정인 사항에 대해서 안내 드립니다. 특히 이번 점검의 경우 단순 하늘마을 프로젝트만 점검하는 것이 아니라, 관리자인 제가 만들고 있는 다른 사이트나 서버와 동시 점검하는 사안으로 일정이 지체될 수 있기에 주의 부탁드립니다.

### 점검 요약

- 일시: 2021년 3월 14일 일요일, 오후 2시 ~ 오후 5시
- 점검 대상: 웹 / 맵 전체
- 점검 내역: 최적화, 보안패치, 업데이트 및 백업 방식 변경 등

### 상세 내역

#### 하늘마을 프로젝트 웹 점검

“웹 점검”이란, 현재 이 사이트가 작동하고 있는 부분과 관련된 변경 사항 적용을 뜻합니다. 구체적으로는 이 사이트의 CMS인 WordPress부터 기반하고 있는 웹 서버가 점검 대상입니다.

- WordPress 업데이트: 더 나은 환경에서 이용할 수 있도록 5.7 버전으로 판올림 예정입니다.
- 보안패치: 하늘마을 프로젝트 웹사이트를 구동하고 있는 VPS의 OS 소프트웨어 업데이트가 있을 예정입니다.
- 플러그인 제거 및 사용자 포럼 제거: 사용하지 않는 사용자 포럼과 플러그인을 삭제할 예정입니다.

그 외에 다른 변경 사항도 고려하였으나, 바빠진 일정으로 인해 시간 내 완료하지 못할 것으로 예상되어 일단 보류되었습니다.
하늘마을 프로젝트 맵 점검

“맵 점검”이란, 구체적으로 현재 하늘마을 프로젝트 맵이 구동되고 있는 서버와 운영 방식에 관련된 총 점검을 뜻합니다. 맵 내부의 구조물에 대해서는 점검하지 않습니다.

- 서버 소프트웨어 업데이트: 2021년 3월 9일 배포된 새 버전의 베드락 서버로 업데이트됩니다.
- 서버 보안 패치 등: 서버 내 각종 소프트웨어를 업데이트하고, 재부팅합니다.
- 백업 방식 변경: 아래 내용을 참조해주시기를 바랍니다. 이제 더이상 매일 Github에 백업하지 않습니다.

#### 하늘마을 맵의 백업 및 배포 방식 변경

서버 맵을 클라우드로 이전한 이후, crontab을 이용하여 Github에 일간빌드를 게시해 오고 있었습니다. 그러나 Github 정책 상 바르지 못한 작업인 점, 전체 용량 증가에 따라 Github의 네트워크 트래픽 및 레포지터리 용량 한계에 도달할 가능성이 점점 늘어나고 있는 점, 개인의 포트폴리오를 해치고 있는 등의 이유로 지속적으로 대안을 찾아 왔습니다.

크게 변경되는 부분은 다음과 같습니다.

- 프로젝트의 레포지터리 주소가 변경됩니다: 지난해 8월까지는 개인 프로젝트였기에 변경이 없었지만, 이제는 개인 프로젝트가 아니므로 별도의 조직 하에 두는 레포지터리로 변경됩니다. (lego37yoon/haneulcity가 아닌, haneulcity/haneulcity 와 같은 형태로 변경된다는 의미입니다. 실제 주소는 점검 이후 공지하겠습니다.)
- 일일 빌드가 더이상 Github에 업로드되지 않습니다: 상기된 이유로 인해 Github에 맵을 백업하는 것은 문제가 있다고 판단하여, 과거 사용했던 Box 클라우드를 백업 매체로 다시 사용합니다.
- Github에는 분기별로 빌드를 업로드합니다: 대신 Github에 분기별로 변경사항을 포함하여 다시 빌드를 구분하여 업로드할 예정입니다.

이렇게 해서 좋아지는 점은 다음과 같습니다.
    
- 서버 저장 공간이 절약됩니다: 지금까지는 .git 디렉토리의 크기로 인해 저장공간의 문제가 심각했습니다. 이는 코드를 잘못 짜 둔 이유도 있으나, 코드를 잘 짰다고 하더라도 지속적으로 해당 폴더의 크기가 커지는 것은 장기적으로 부담이기에 변경하게 되었습니다.

또한 이번 변경 사항을 통해 서버 자체의 최적화에도 영향을 줄 것으로 예상되는 ᅟ만큼, 마인카트 운행 불가 문제 등이 해결될 것으로 기대됩니다. (* 변동이 없을 수도 있으나 최대한 운행 가능하도록 확인 및 절차를 거칠 예정입니다.)

### 추후 안내될 내용들

이번 점검이 끝난 후 순차적으로 안내될 내용들은 다음과 같습니다.

- 하늘마을 프로젝트 레포지터리의 새 주소
- 하늘마을 프로젝트 일간빌드 배포처의 새 주소
- 2020년도 4분기 / 2021년도 1분기 하늘마을 프로젝트 변경사항 안내 (3월 말 ~ 4월 초)
- 2020년도 4분기 / 2021년도 1분기 하늘마을 프로젝트 애드센스 수익 ᅟ및 사용 안내 (3월 말 ~ 4월 초)

향후 제 개인 사정에 따라 최소한 5월에는 서버 점검이 한 번 더 있을 예정입니다. 사유는 서버 이전이며, 그 때에는 환경 구축 및 서버 성능 테스트로 인해 점검이 더 길어질 수 있습니다.
